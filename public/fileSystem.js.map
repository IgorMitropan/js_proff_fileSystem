{"version":3,"sources":["webpack:///fileSystem.js","webpack:///webpack/bootstrap a2616c867aac6aefdd39","webpack:///./frontend/js/main.js","webpack:///./frontend/js/page.js","webpack:///./frontend/js/polyfills.js","webpack:///./frontend/js/breadcrumbs.js","webpack:///./frontend/js/component.js","webpack:///./frontend/js/dirViewer.js","webpack:///./frontend/js/fileViewer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_page","_page2","element","document","getElementById","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","protoProps","staticProps","_polyfills","polyfills","_breadcrumbs","_breadcrumbs2","_dirViewer","_dirViewer2","_fileViewer","_fileViewer2","installMatches","installClosest","installCustomEvent","Page","options","this","_el","querySelector","on","_onBackWasClicked","bind","showPath","_onItemWasSelected","_onFileWasDblClicked","_activeViewer","_loadDirContent","event","detail","path","_changeActiveViewer","toggleBackButton","filePath","_ajax","success","_onContentLoad","error","_onContentLoadError","url","xhr","XMLHttpRequest","method","open","setRequestHeader","onload","status","responseText","onerror","Error","send","data","showContent","console","showLoadError","hide","show","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","closest","css","node","parentElement","CustomEvent","e","window","params","evt","bubbles","cancelable","undefined","createEvent","initCustomEvent","create","Event","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","_component","_component2","DEFAULT_PATH","Breadcrumbs","_Component","_this","getPrototypeOf","_path","addEventListener","_onBackClick","innerHTML","toggleElement","backButton","_trigger","Component","classList","remove","add","err","JSON","parse","message","eventName","handler","dispatchEvent","elem","toggle","DirViewer","_selectedItem","_onClick","_onDblClick","preventDefaultSelection","nextElementSibling","selectedItem","toggleFocus","_definePath","_renderTree","keys","ourHTML","get","preventDefault","dir","textContent","parentNode","previousElementSibling","FileViewer"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,YAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GE5ChC,YFoDC,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GEnDxF,GAAAG,GAAAf,EAAA,GFiDKgB,EAASL,EAAuBI,EE/CrC,IAAAC,eACGC,QAASC,SAASC,eAAe,gBFwD9B,SAASf,EAAQD,EAASH,GG5DhC,YHsFC,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASQ,GAAwBR,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIS,KAAa,IAAW,MAAPT,EAAe,IAAK,GAAIU,KAAOV,GAAWW,OAAOC,UAAUC,eAAelB,KAAKK,EAAKU,KAAMD,EAAOC,GAAOV,EAAIU,GAAgC,OAAtBD,cAAiBT,EAAYS,EAElQ,QAASK,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCA1BhHN,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,GAGX,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOO,eAAeI,EAAQI,EAAWhB,IAAKgB,IAAiB,MAAO,UAAUV,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBL,EAAYJ,UAAWkB,GAAiBC,GAAaV,EAAiBL,EAAae,GAAqBf,MGlEjiBgB,EAAA5C,EAAA,GAAY6C,EAAAzB,EAAAwB,GAOZE,EAAA9C,EAAA,GHmEK+C,EAAgBpC,EAAuBmC,GGlE5CE,EAAAhD,EAAA,GHsEKiD,EAActC,EAAuBqC,GGrE1CE,EAAAlD,EAAA,GHyEKmD,EAAexC,EAAuBuC,EGhF3CL,GAAUO,iBACVP,EAAUQ,iBACVR,EAAUS,oBH0FT,IGnFoBC,GAAA,WACjB,QADiBA,GACLC,GHoFP9B,EAAgB+B,KGrFJF,GAEbE,KAAKC,IAAMF,EAAQvC,QAEnBwC,KAAKX,aAAe,GAAAC,eAChB9B,QAASwC,KAAKC,IAAIC,cAAc,oCAEpCF,KAAKX,aAAac,GAAG,OAAQH,KAAKI,kBAAkBC,KAAKL,OACzDA,KAAKX,aAAaiB,WAElBN,KAAKT,WAAa,GAAAC,eACdhC,QAASwC,KAAKC,IAAIC,cAAc,kCAEpCF,KAAKT,WAAWY,GAAG,kBAAmBH,KAAKO,mBAAmBF,KAAKL,OACnEA,KAAKT,WAAWY,GAAG,oBAAqBH,KAAKQ,qBAAqBH,KAAKL,OAEvEA,KAAKP,YAAc,GAAAC,eACflC,QAASwC,KAAKC,IAAIC,cAAc,mCAGpCF,KAAKS,cAAgBT,KAAKT,WAE1BS,KAAKU,kBH+KR,MAvFAnC,GG9GgBuB,IH+GZjC,IAAK,qBACLS,MAAO,SGvFOqC,GACfX,KAAKX,aAAaiB,SAASK,EAAMC,OAAOC,SH0FvChD,IAAK,uBACLS,MAAO,SGxFSqC,GACjBX,KAAKc,sBACLd,KAAKX,aAAa0B,kBAElB,IAAIC,GAAW,SAAWL,EAAMC,OAAOI,QAEvChB,MAAKiB,MAAMD,GACPE,QAASlB,KAAKmB,eAAed,KAAKL,MAClCoB,MAAOpB,KAAKqB,oBAAoBhB,KAAKL,WH4FxCnC,IAAK,oBACLS,MAAO,WGxFR0B,KAAKc,sBACLd,KAAKX,aAAa0B,sBH4FjBlD,IAAK,kBACLS,MAAO,WGzFR0B,KAAKiB,MAAM,cACPC,QAASlB,KAAKmB,eAAed,KAAKL,MAClCoB,MAAOpB,KAAKqB,oBAAoBhB,KAAKL,WH8FxCnC,IAAK,QACLS,MAAO,SG3FNgD,EAAKvB,GACP,GAAIwB,GAAM,GAAIC,gBAEVC,EAAS1B,EAAQ0B,QAAU,KAE/BF,GAAIG,KAAKD,EAAQH,GAAK,GAEtBC,EAAII,iBAAiB,mBAAoB,kBAEzCJ,EAAIK,OAAS,WACT7B,EAAQmB,QAAQK,EAAIM,OAAQN,EAAIO,eAGpCP,EAAIQ,QAAU,WACVhC,EAAQqB,MAAM,GAAIY,OAAMT,EAAIO,gBAGhCP,EAAIU,UH8FHpE,IAAK,iBACLS,MAAO,SG5FGuD,EAAQK,GACnB,GAAe,MAAXL,GAA6B,MAAXA,EAClB7B,KAAKS,cAAc0B,YAAYD,OAC5B,CACH,GAAId,GAAQ,GAAIY,OAAME,EACtBd,GAAMS,OAASA,EACf7B,KAAKqB,oBAAoBD,OHgG5BvD,IAAK,sBACLS,MAAO,SG7FQ8C,GAChBgB,QAAQhB,MAAMA,GACdpB,KAAKS,cAAc4B,cAAcjB,MHgGhCvD,IAAK,sBACLS,MAAO,WG7FJ0B,KAAKS,gBAAkBT,KAAKT,YAC5BS,KAAKT,WAAW+C,OAChBtC,KAAKP,YAAY8C,OAEjBvC,KAAKS,cAAgBT,KAAKP,cAE1BO,KAAKP,YAAY6C,OACjBtC,KAAKT,WAAWgD,OAEhBvC,KAAKS,cAAgBT,KAAKT,gBAlGjBO,IHwMpBpD,cAAkBoD,GAIb,SAASnD,EAAQD,GIzNvB,YACO,SAASiD,KAGP6C,QAAQzE,UAAU0E,UAGnBD,QAAQzE,UAAU0E,QAAUD,QAAQzE,UAAU2E,iBAC9CF,QAAQzE,UAAU4E,uBAClBH,QAAQzE,UAAU6E,oBAClBJ,QAAQzE,UAAU8E,mBAMnB,QAASjD,KAGP4C,QAAQzE,UAAU+E,UAGnBN,QAAQzE,UAAU+E,QAAU,SAASC,GAGjC,IAFA,GAAIC,GAAOhD,KAEJgD,GAAM,CACT,GAAIA,EAAKP,QAAQM,GAAM,MAAOC,EACzBA,GAAOA,EAAKC,cAErB,MAAO,QAMZ,QAASpD,KACZ,IACI,GAAIqD,aAAY,uDAClB,MAAOC,GAELC,OAAOF,YAAc,SAASvC,EAAO0C,GACjC,GAAIC,EAQJ,OAPAD,GAASA,IACLE,SAAS,EACTC,YAAY,EACZ5C,OAAQ6C,QAEZH,EAAM7F,SAASiG,YAAY,eAC3BJ,EAAIK,gBAAgBhD,EAAO0C,EAAOE,QAASF,EAAOG,WAAYH,EAAOzC,QAC9D0C,GAGXJ,YAAYnF,UAAYD,OAAO8F,OAAOR,OAAOS,MAAM9F,YJyK1DD,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,IAEX5B,EI/NeiD,iBJgOfjD,EIjNekD,iBJkNflD,EI/LemD,sBJkPV,SAASlD,EAAQD,EAASH,GKrRhC,YLmSC,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASc,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAAS0F,GAA2BC,EAAMjH,GAAQ,IAAKiH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOlH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BiH,EAAPjH,EAElO,QAASmH,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI/F,WAAU,iEAAoE+F,GAAeD,GAASnG,UAAYD,OAAO8F,OAAOO,GAAcA,EAAWpG,WAAaqG,aAAe9F,MAAO4F,EAAUpF,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeoF,IAAYrG,OAAOuG,eAAiBvG,OAAOuG,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAhBjerG,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,GAGX,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOO,eAAeI,EAAQI,EAAWhB,IAAKgB,IAAiB,MAAO,UAAUV,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBL,EAAYJ,UAAWkB,GAAiBC,GAAaV,EAAiBL,EAAae,GAAqBf,MK5RjiBoG,EAAAhI,EAAA,GLgSKiI,EAActH,EAAuBqH,GK9RpCE,EAAe,cAEAC,EAAA,SAAAC,GACjB,QADiBD,GACL3E,GL2SP9B,EAAgB+B,KK5SJ0E,EL8SZ,IAAIE,GAAQd,EAA2B9D,KAAMlC,OAAO+G,eK9SxCH,GAAA5H,KAAAkD,KAEPD,GLiTL,OKhTD6E,GAAKE,MAAQF,EAAK3E,IAAIC,cAAc,0BAEpC0E,EAAK3E,IAAI8E,iBAAiB,QAASH,EAAKI,aAAa3E,KAAlBuE,IL8S3BA,EA0BX,MApCAX,GAAUS,EAAaC,GAavBpG,EKtTgBmG,ILuTZ7G,IAAK,WACLS,MAAO,SKhTH4D,GACLlC,KAAK8E,MAAMG,UAAY/C,EAClB,QAASuC,EAAevC,EAAO,SAC/B,QAASuC,EAAgB,YLiT7B5G,IAAK,mBACLS,MAAO,WK9SRoG,EAAYQ,cAAelF,KAAKC,IAAIC,cAAc,oCLkTjDrC,IAAK,eACLS,MAAO,SKhTCqC,GACT,GAAIwE,GAAaxE,EAAMlC,OAAOqE,QAAQ,+BAEjCqC,IAILnF,KAAKoF,SAAS,YAzBDV,GL8UlBF,aAEF9H,cAAkBgI,GAIb,SAAS/H,EAAQD,GMzVvB,YNmWC,SAASuB,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHN,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,GAGX,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOO,eAAeI,EAAQI,EAAWhB,IAAKgB,IAAiB,MAAO,UAAUV,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBL,EAAYJ,UAAWkB,GAAiBC,GAAaV,EAAiBL,EAAae,GAAqBf,MM/V5gBkH,EAAA,WACjB,QADiBA,GACLtF,GNoWP9B,EAAgB+B,KMrWJqF,GAEbrF,KAAKC,IAAMF,EAAQvC,QN0ZtB,MAlDAe,GM1WgB8G,IN2WZxH,IAAK,OACLS,MAAO,WM7VR0B,KAAKC,IAAIqF,UAAUC,OAAO,gBNiWzB1H,IAAK,OACLS,MAAO,WM9VR0B,KAAKC,IAAIqF,UAAUE,IAAI,gBNkWtB3H,IAAK,cACLS,MAAO,SMhWA4D,ONoWPrE,IAAK,gBACLS,MAAO,SMjWEmH,GACVzF,KAAKC,IAAIgF,UAAY,aAAcQ,EAAI5D,OAAS,QAAU6D,KAAKC,MAAMF,EAAIG,YNoWxE/H,IAAK,KACLS,MAAO,SMlWTuH,EAAWC,GACV9F,KAAKC,IAAI8E,iBAAiBc,EAAWC,MNqWpCjI,IAAK,WACLS,MAAO,SMnWHuH,EAAW3D,EAAMnC,GACtBA,EAAUA,MAEE0D,QAARvB,IACAnC,EAAQa,OAASsB,EAGrB,IAAIvB,GAAQ,GAAIuC,aAAY2C,EAAW9F,EAEvCC,MAAKC,IAAI8F,cAAcpF,QNsWtB9C,IAAK,gBACLS,MAAO,SM7YS0H,GACjBA,EAAKV,UAAUW,OAAO,gBNgZrBpI,IAAK,cACLS,MAAO,SM9YO0H,GACfA,EAAKV,UAAUW,OAAO,eAVTZ,IN+ZpB3I,cAAkB2I,GAIb,SAAS1I,EAAQD,EAASH,GOrahC,YPmbC,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASc,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAAS0F,GAA2BC,EAAMjH,GAAQ,IAAKiH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOlH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BiH,EAAPjH,EAElO,QAASmH,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI/F,WAAU,iEAAoE+F,GAAeD,GAASnG,UAAYD,OAAO8F,OAAOO,GAAcA,EAAWpG,WAAaqG,aAAe9F,MAAO4F,EAAUpF,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeoF,IAAYrG,OAAOuG,eAAiBvG,OAAOuG,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAhBjerG,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,GAGX,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOO,eAAeI,EAAQI,EAAWhB,IAAKgB,IAAiB,MAAO,UAAUV,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBL,EAAYJ,UAAWkB,GAAiBC,GAAaV,EAAiBL,EAAae,GAAqBf,MO5ajiBoG,EAAAhI,EAAA,GPgbKiI,EAActH,EAAuBqH,GO9arB2B,EAAA,SAAAvB,GACjB,QADiBuB,GACLnG,GP2bP9B,EAAgB+B,KO5bJkG,EP8bZ,IAAItB,GAAQd,EAA2B9D,KAAMlC,OAAO+G,eO9bxCqB,GAAApJ,KAAAkD,KAEPD,GPocL,OOncD6E,GAAKuB,cAAgB,KAErBvB,EAAKzE,GAAG,QAAQyE,EAAKwB,SAAS/F,KAAduE,IAChBA,EAAKzE,GAAG,WAAWyE,EAAKyB,YAAYhG,KAAjBuE,IACnBA,EAAKzE,GAAG,YAAa+F,EAAUI,yBAC/B1B,EAAKzE,GAAG,cAAc+F,EAAUI,yBP8bxB1B,EAuFX,MApGAX,GAAUiC,EAAWvB,GAgBrBpG,EOzcgB2H,IP0cZrI,IAAK,WACLS,MAAO,SO5aHqC,GAEL,GAAIlC,GAASkC,EAAMlC,OAAOqE,QAAQ,OAE9BrE,KAIAA,EAAO8H,oBACPL,EAAUhB,cAAczG,EAAO8H,oBAI/BvG,KAAKwG,cACLN,EAAUO,YAAYzG,KAAKwG,cAG/BxG,KAAKmG,cAAgB1H,EACrByH,EAAUO,YAAYhI,GAEtBuB,KAAKoF,SAAS,mBAAoBvE,KAAMqF,EAAUQ,YAAYjI,SP8a7DZ,IAAK,cACLS,MAAO,SO3aAqC,GAER,GAAIlC,GAASkC,EAAMlC,OAAOqE,QAAQ,OAE9BrE,KAAUA,EAAO8H,oBAIrBvG,KAAKoF,SAAS,qBAAsBpE,SAAUkF,EAAUQ,YAAYjI,QP8anEZ,IAAK,cACLS,MAAO,SO5aA4D,GACRlC,KAAKC,IAAIgF,UAAYjF,KAAK2G,YAAajB,KAAKC,MAAMzD,OP+ajDrE,IAAK,cACLS,MAAO,SO7aAnB,GACR,GAAgC,IAA5BW,OAAO8I,KAAKzJ,GAAKyB,OACjB,MAAO,EAGX,IAAIiI,GAAU,QAEd,KAAK,GAAIhJ,KAAOV,GACZ0J,GAAW,aAAoBhJ,EAAM,YACrCgJ,GAAU7G,KAAK2G,YAAYxJ,EAAIU,IAC/BgJ,GAAU,SAKd,OAFAA,IAAW,WPkbVhJ,IAAK,eACLiJ,IAAK,WO1eN,MAAO9G,MAAKmG,mBP8eXtI,IAAK,0BACLS,MAAO,SOhgBmBqC,GAC3BA,EAAMoG,oBPmgBLlJ,IAAK,cACLS,MAAO,SOjgBOG,GAIf,IAHA,GAAIoC,GAAO,GACPmG,EAAMvI,EAEJuI,GACFnG,EAAO,IAAMmG,EAAIC,YAAcpG,EAC/BmG,EAAMA,EAAIE,WAAWA,WAAWC,sBAGpC,OAAOtG,OAxBMqF,GP8hBlB1B,aAEF9H,cAAkBwJ,GAIb,SAASvJ,EAAQD,EAASH,GQviBhC,YRqjBC,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASc,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAAS0F,GAA2BC,EAAMjH,GAAQ,IAAKiH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOlH,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BiH,EAAPjH,EAElO,QAASmH,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI/F,WAAU,iEAAoE+F,GAAeD,GAASnG,UAAYD,OAAO8F,OAAOO,GAAcA,EAAWpG,WAAaqG,aAAe9F,MAAO4F,EAAUpF,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeoF,IAAYrG,OAAOuG,eAAiBvG,OAAOuG,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAhBjerG,OAAOO,eAAe3B,EAAS,cAC3B4B,OAAO,GAGX,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOO,eAAeI,EAAQI,EAAWhB,IAAKgB,IAAiB,MAAO,UAAUV,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBL,EAAYJ,UAAWkB,GAAiBC,GAAaV,EAAiBL,EAAae,GAAqBf,MQ9iBjiBoG,EAAAhI,EAAA,GRkjBKiI,EAActH,EAAuBqH,GQhjBrB6C,EAAA,SAAAzC,GACjB,QADiByC,GACLrH,GR+jBP,MAFA9B,GAAgB+B,KQ9jBJoH,GRgkBLtD,EAA2B9D,KAAMlC,OAAO+G,eQhkBnCuC,GAAAtK,KAAAkD,KAEPD,IRwkBT,MAfAkE,GAAUmD,EAAYzC,GAQtBpG,EQnkBgB6I,IRokBZvJ,IAAK,cACLS,MAAO,SQhkBA4D,GACRlC,KAAKC,IAAIgF,UAAY,QAAU/C,EAAO,aANzBkF,GR2kBlB5C,aAEF9H,cAAkB0K","file":"fileSystem.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./public/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _page = __webpack_require__(1);\n\t\n\tvar _page2 = _interopRequireDefault(_page);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _page2.default({\n\t   element: document.getElementById('container')\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _polyfills = __webpack_require__(2);\n\t\n\tvar polyfills = _interopRequireWildcard(_polyfills);\n\t\n\tvar _breadcrumbs = __webpack_require__(3);\n\t\n\tvar _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);\n\t\n\tvar _dirViewer = __webpack_require__(5);\n\t\n\tvar _dirViewer2 = _interopRequireDefault(_dirViewer);\n\t\n\tvar _fileViewer = __webpack_require__(6);\n\t\n\tvar _fileViewer2 = _interopRequireDefault(_fileViewer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tpolyfills.installMatches(); //cross browser polyfill for 'matches' (does not supported by IE)\n\tpolyfills.installClosest(); //cross browser polyfill for 'closest' (does not supported by IE)\n\tpolyfills.installCustomEvent(); //cross browser polyfill for 'custom events' (does not supported by IE)\n\t\n\tvar Page = function () {\n\t    function Page(options) {\n\t        _classCallCheck(this, Page);\n\t\n\t        this._el = options.element;\n\t\n\t        this._breadcrumbs = new _breadcrumbs2.default({\n\t            element: this._el.querySelector('[data-component=\"breadcrumbs\"]')\n\t        });\n\t        this._breadcrumbs.on('back', this._onBackWasClicked.bind(this));\n\t        this._breadcrumbs.showPath();\n\t\n\t        this._dirViewer = new _dirViewer2.default({\n\t            element: this._el.querySelector('[data-component=\"dirViewer\"]')\n\t        });\n\t        this._dirViewer.on('itemWasSelected', this._onItemWasSelected.bind(this));\n\t        this._dirViewer.on('fileWasDblClicked', this._onFileWasDblClicked.bind(this));\n\t\n\t        this._fileViewer = new _fileViewer2.default({\n\t            element: this._el.querySelector('[data-component=\"fileViewer\"]')\n\t        });\n\t\n\t        this._activeViewer = this._dirViewer;\n\t\n\t        this._loadDirContent();\n\t    }\n\t\n\t    _createClass(Page, [{\n\t        key: '_onItemWasSelected',\n\t        value: function _onItemWasSelected(event) {\n\t            this._breadcrumbs.showPath(event.detail.path);\n\t        }\n\t    }, {\n\t        key: '_onFileWasDblClicked',\n\t        value: function _onFileWasDblClicked(event) {\n\t            this._changeActiveViewer();\n\t            this._breadcrumbs.toggleBackButton();\n\t\n\t            var filePath = '/file:' + event.detail.filePath;\n\t\n\t            this._ajax(filePath, {\n\t                success: this._onContentLoad.bind(this),\n\t                error: this._onContentLoadError.bind(this)\n\t            });\n\t        }\n\t    }, {\n\t        key: '_onBackWasClicked',\n\t        value: function _onBackWasClicked() {\n\t            this._changeActiveViewer();\n\t            this._breadcrumbs.toggleBackButton();\n\t        }\n\t    }, {\n\t        key: '_loadDirContent',\n\t        value: function _loadDirContent() {\n\t            this._ajax('/directory', {\n\t                success: this._onContentLoad.bind(this),\n\t                error: this._onContentLoadError.bind(this)\n\t            });\n\t        }\n\t    }, {\n\t        key: '_ajax',\n\t        value: function _ajax(url, options) {\n\t            var xhr = new XMLHttpRequest();\n\t\n\t            var method = options.method || 'GET';\n\t\n\t            xhr.open(method, url, true);\n\t\n\t            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\n\t            xhr.onload = function () {\n\t                options.success(xhr.status, xhr.responseText);\n\t            };\n\t\n\t            xhr.onerror = function () {\n\t                options.error(new Error(xhr.responseText));\n\t            };\n\t\n\t            xhr.send();\n\t        }\n\t    }, {\n\t        key: '_onContentLoad',\n\t        value: function _onContentLoad(status, data) {\n\t            if (status === 200 || status === 304) {\n\t                this._activeViewer.showContent(data);\n\t            } else {\n\t                var error = new Error(data);\n\t                error.status = status;\n\t                this._onContentLoadError(error);\n\t            }\n\t        }\n\t    }, {\n\t        key: '_onContentLoadError',\n\t        value: function _onContentLoadError(error) {\n\t            console.error(error);\n\t            this._activeViewer.showLoadError(error);\n\t        }\n\t    }, {\n\t        key: '_changeActiveViewer',\n\t        value: function _changeActiveViewer() {\n\t            if (this._activeViewer === this._dirViewer) {\n\t                this._dirViewer.hide();\n\t                this._fileViewer.show();\n\t\n\t                this._activeViewer = this._fileViewer;\n\t            } else {\n\t                this._fileViewer.hide();\n\t                this._dirViewer.show();\n\t\n\t                this._activeViewer = this._dirViewer;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Page;\n\t}();\n\n\texports.default = Page;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.installMatches = installMatches;\n\texports.installClosest = installClosest;\n\texports.installCustomEvent = installCustomEvent;\n\tfunction installMatches() {\n\t\n\t    // проверяем поддержку\n\t    if (!Element.prototype.matches) {\n\t\n\t        // определяем свойство\n\t        Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector;\n\t    }\n\t}\n\t\n\tfunction installClosest() {\n\t\n\t    // проверяем поддержку\n\t    if (!Element.prototype.closest) {\n\t\n\t        // реализуем\n\t        Element.prototype.closest = function (css) {\n\t            var node = this;\n\t\n\t            while (node) {\n\t                if (node.matches(css)) return node;else node = node.parentElement;\n\t            }\n\t            return null;\n\t        };\n\t    }\n\t}\n\t\n\tfunction installCustomEvent() {\n\t    try {\n\t        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\n\t    } catch (e) {\n\t\n\t        window.CustomEvent = function (event, params) {\n\t            var evt;\n\t            params = params || {\n\t                bubbles: false,\n\t                cancelable: false,\n\t                detail: undefined\n\t            };\n\t            evt = document.createEvent(\"CustomEvent\");\n\t            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t            return evt;\n\t        };\n\t\n\t        CustomEvent.prototype = Object.create(window.Event.prototype);\n\t    }\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _component = __webpack_require__(4);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DEFAULT_PATH = 'Project dir';\n\t\n\tvar Breadcrumbs = function (_Component) {\n\t    _inherits(Breadcrumbs, _Component);\n\t\n\t    function Breadcrumbs(options) {\n\t        _classCallCheck(this, Breadcrumbs);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Breadcrumbs).call(this, options));\n\t\n\t        _this._path = _this._el.querySelector('[data-selector=\"path\"]');\n\t\n\t        _this._el.addEventListener('click', _this._onBackClick.bind(_this));\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Breadcrumbs, [{\n\t        key: 'showPath',\n\t        value: function showPath(data) {\n\t            this._path.innerHTML = data ? '<pre>' + DEFAULT_PATH + data + '</pre>' : '<pre>' + DEFAULT_PATH + '</pre>';\n\t        }\n\t    }, {\n\t        key: 'toggleBackButton',\n\t        value: function toggleBackButton() {\n\t            Breadcrumbs.toggleElement(this._el.querySelector('[data-selector=\"backButton\"]'));\n\t        }\n\t    }, {\n\t        key: '_onBackClick',\n\t        value: function _onBackClick(event) {\n\t            var backButton = event.target.closest('[data-selector=\"backButton\"]');\n\t\n\t            if (!backButton) {\n\t                return;\n\t            }\n\t\n\t            this._trigger('back');\n\t        }\n\t    }]);\n\t\n\t    return Breadcrumbs;\n\t}(_component2.default);\n\n\texports.default = Breadcrumbs;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Component = function () {\n\t    function Component(options) {\n\t        _classCallCheck(this, Component);\n\t\n\t        this._el = options.element;\n\t    }\n\t\n\t    _createClass(Component, [{\n\t        key: 'show',\n\t        value: function show() {\n\t            this._el.classList.remove('js-hidden');\n\t        }\n\t    }, {\n\t        key: 'hide',\n\t        value: function hide() {\n\t            this._el.classList.add('js-hidden');\n\t        }\n\t    }, {\n\t        key: 'showContent',\n\t        value: function showContent(data) {\n\t            // for override\n\t        }\n\t    }, {\n\t        key: 'showLoadError',\n\t        value: function showLoadError(err) {\n\t            this._el.innerHTML = '<h1>Error ' + err.status + '</h1>' + JSON.parse(err.message);\n\t        }\n\t    }, {\n\t        key: 'on',\n\t        value: function on(eventName, handler) {\n\t            this._el.addEventListener(eventName, handler);\n\t        }\n\t    }, {\n\t        key: '_trigger',\n\t        value: function _trigger(eventName, data, options) {\n\t            options = options || {};\n\t\n\t            if (data != undefined) {\n\t                options.detail = data;\n\t            }\n\t\n\t            var event = new CustomEvent(eventName, options);\n\t\n\t            this._el.dispatchEvent(event);\n\t        }\n\t    }], [{\n\t        key: 'toggleElement',\n\t        value: function toggleElement(elem) {\n\t            elem.classList.toggle('js-hidden');\n\t        }\n\t    }, {\n\t        key: 'toggleFocus',\n\t        value: function toggleFocus(elem) {\n\t            elem.classList.toggle('focused');\n\t        }\n\t    }]);\n\t\n\t    return Component;\n\t}();\n\n\texports.default = Component;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _component = __webpack_require__(4);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DirViewer = function (_Component) {\n\t    _inherits(DirViewer, _Component);\n\t\n\t    function DirViewer(options) {\n\t        _classCallCheck(this, DirViewer);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DirViewer).call(this, options));\n\t\n\t        _this._selectedItem = null;\n\t\n\t        _this.on('click', _this._onClick.bind(_this));\n\t        _this.on('dblclick', _this._onDblClick.bind(_this));\n\t        _this.on('mousedown', DirViewer.preventDefaultSelection);\n\t        _this.on('selectstart', DirViewer.preventDefaultSelection);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(DirViewer, [{\n\t        key: '_onClick',\n\t        value: function _onClick(event) {\n\t\n\t            var target = event.target.closest('span');\n\t\n\t            if (!target) {\n\t                return;\n\t            }\n\t\n\t            if (target.nextElementSibling) {\n\t                DirViewer.toggleElement(target.nextElementSibling);\n\t            }\n\t\n\t            if (this.selectedItem) {\n\t                DirViewer.toggleFocus(this.selectedItem);\n\t            }\n\t\n\t            this._selectedItem = target;\n\t            DirViewer.toggleFocus(target);\n\t\n\t            this._trigger('itemWasSelected', { path: DirViewer._definePath(target) });\n\t        }\n\t    }, {\n\t        key: '_onDblClick',\n\t        value: function _onDblClick(event) {\n\t\n\t            var target = event.target.closest('span');\n\t\n\t            if (!target || target.nextElementSibling) {\n\t                return;\n\t            }\n\t\n\t            this._trigger('fileWasDblClicked', { filePath: DirViewer._definePath(target) });\n\t        }\n\t    }, {\n\t        key: 'showContent',\n\t        value: function showContent(data) {\n\t            this._el.innerHTML = this._renderTree(JSON.parse(data));\n\t        }\n\t    }, {\n\t        key: '_renderTree',\n\t        value: function _renderTree(obj) {\n\t            if (Object.keys(obj).length === 0) {\n\t                return '';\n\t            }\n\t\n\t            var ourHTML = '<ul>' + '\\n';\n\t\n\t            for (var key in obj) {\n\t                ourHTML += '<li>' + '<span>' + key + '</span>' + '\\n';\n\t                ourHTML += this._renderTree(obj[key]);\n\t                ourHTML += '\\n' + '</li>';\n\t            }\n\t\n\t            ourHTML += '</ul>';\n\t\n\t            return ourHTML;\n\t        }\n\t    }, {\n\t        key: 'selectedItem',\n\t        get: function get() {\n\t            return this._selectedItem;\n\t        }\n\t    }], [{\n\t        key: 'preventDefaultSelection',\n\t        value: function preventDefaultSelection(event) {\n\t            event.preventDefault();\n\t        }\n\t    }, {\n\t        key: '_definePath',\n\t        value: function _definePath(target) {\n\t            var path = '';\n\t            var dir = target;\n\t\n\t            while (dir) {\n\t                path = '/' + dir.textContent + path;\n\t                dir = dir.parentNode.parentNode.previousElementSibling;\n\t            }\n\t\n\t            return path;\n\t        }\n\t    }]);\n\t\n\t    return DirViewer;\n\t}(_component2.default);\n\n\texports.default = DirViewer;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _component = __webpack_require__(4);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FileViewer = function (_Component) {\n\t    _inherits(FileViewer, _Component);\n\t\n\t    function FileViewer(options) {\n\t        _classCallCheck(this, FileViewer);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(FileViewer).call(this, options));\n\t    }\n\t\n\t    _createClass(FileViewer, [{\n\t        key: 'showContent',\n\t        value: function showContent(data) {\n\t            this._el.innerHTML = '<pre>' + data + '</pre>';\n\t        }\n\t    }]);\n\t\n\t    return FileViewer;\n\t}(_component2.default);\n\n\texports.default = FileViewer;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** fileSystem.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a2616c867aac6aefdd39\n **/","'use strict';\r\nimport Page from './page.js';\r\n\r\nnew Page({\r\n   element: document.getElementById('container')\r\n});\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/main.js\n **/","'use strict';\r\n\r\nimport * as polyfills from'./polyfills';\r\n\r\npolyfills.installMatches(); //cross browser polyfill for 'matches' (does not supported by IE)\r\npolyfills.installClosest(); //cross browser polyfill for 'closest' (does not supported by IE)\r\npolyfills.installCustomEvent(); //cross browser polyfill for 'custom events' (does not supported by IE)\r\n\r\n\r\nimport Breadcrumbs from './breadcrumbs.js';\r\nimport DirViewer from './dirViewer.js';\r\nimport FileViewer from './fileViewer.js';\r\n\r\nexport default class Page {\r\n    constructor(options) {\r\n        this._el = options.element;\r\n\r\n        this._breadcrumbs = new Breadcrumbs({\r\n            element: this._el.querySelector('[data-component=\"breadcrumbs\"]')\r\n        });\r\n        this._breadcrumbs.on('back', this._onBackWasClicked.bind(this));\r\n        this._breadcrumbs.showPath();\r\n\r\n        this._dirViewer = new DirViewer({\r\n            element: this._el.querySelector('[data-component=\"dirViewer\"]')\r\n        });\r\n        this._dirViewer.on('itemWasSelected', this._onItemWasSelected.bind(this));\r\n        this._dirViewer.on('fileWasDblClicked', this._onFileWasDblClicked.bind(this));\r\n\r\n        this._fileViewer = new FileViewer({\r\n            element: this._el.querySelector('[data-component=\"fileViewer\"]')\r\n        });\r\n\r\n        this._activeViewer = this._dirViewer;\r\n\r\n        this._loadDirContent();\r\n    }\r\n\r\n    _onItemWasSelected(event) {\r\n        this._breadcrumbs.showPath(event.detail.path);\r\n    }\r\n\r\n    _onFileWasDblClicked(event) {\r\n        this._changeActiveViewer();\r\n        this._breadcrumbs.toggleBackButton();\r\n\r\n        let filePath = '/file:' + event.detail.filePath;\r\n\r\n        this._ajax(filePath, {\r\n            success: this._onContentLoad.bind(this),\r\n            error: this._onContentLoadError.bind(this)\r\n        });\r\n    }\r\n\r\n    _onBackWasClicked() {\r\n        this._changeActiveViewer();\r\n        this._breadcrumbs.toggleBackButton();\r\n    }\r\n\r\n    _loadDirContent() {\r\n        this._ajax('/directory', {\r\n            success: this._onContentLoad.bind(this),\r\n            error: this._onContentLoadError.bind(this)\r\n        });\r\n    }\r\n\r\n    _ajax(url, options) {\r\n        let xhr = new XMLHttpRequest();\r\n\r\n        let method = options.method || 'GET';\r\n\r\n        xhr.open(method, url, true);\r\n\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n\r\n        xhr.onload = function() {\r\n            options.success(xhr.status, xhr.responseText);\r\n        };\r\n\r\n        xhr.onerror = function() {\r\n            options.error(new Error(xhr.responseText))\r\n        };\r\n\r\n        xhr.send();\r\n    }\r\n\r\n    _onContentLoad(status, data) {\r\n        if (status === 200 || status === 304) {\r\n            this._activeViewer.showContent(data);\r\n        } else {\r\n            let error = new Error(data);\r\n            error.status = status;\r\n            this._onContentLoadError(error);\r\n        }\r\n    }\r\n\r\n    _onContentLoadError(error) {\r\n        console.error(error);\r\n        this._activeViewer.showLoadError(error);\r\n    }\r\n\r\n    _changeActiveViewer() {\r\n        if (this._activeViewer === this._dirViewer) {\r\n            this._dirViewer.hide();\r\n            this._fileViewer.show();\r\n\r\n            this._activeViewer = this._fileViewer;\r\n        } else {\r\n            this._fileViewer.hide();\r\n            this._dirViewer.show();\r\n\r\n            this._activeViewer = this._dirViewer;\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/page.js\n **/","'use strict';\r\nexport function installMatches() {\r\n\r\n    // проверяем поддержку\r\n    if (!Element.prototype.matches) {\r\n\r\n        // определяем свойство\r\n        Element.prototype.matches = Element.prototype.matchesSelector ||\r\n        Element.prototype.webkitMatchesSelector ||\r\n        Element.prototype.mozMatchesSelector ||\r\n        Element.prototype.msMatchesSelector\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function installClosest() {\r\n\r\n    // проверяем поддержку\r\n    if (!Element.prototype.closest) {\r\n\r\n        // реализуем\r\n        Element.prototype.closest = function(css) {\r\n            var node = this;\r\n\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport function installCustomEvent() {\r\n    try {\r\n        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n    } catch (e) {\r\n\r\n        window.CustomEvent = function(event, params) {\r\n            var evt;\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: undefined\r\n            };\r\n            evt = document.createEvent(\"CustomEvent\");\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        };\r\n\r\n        CustomEvent.prototype = Object.create(window.Event.prototype);\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/polyfills.js\n **/","'use strict';\r\nimport Component from './component.js';\r\n\r\nconst DEFAULT_PATH = 'Project dir';\r\n\r\nexport default class Breadcrumbs extends Component{\r\n    constructor(options) {\r\n        super(options);\r\n        this._path = this._el.querySelector('[data-selector=\"path\"]');\r\n\r\n        this._el.addEventListener('click', this._onBackClick.bind(this));\r\n    }\r\n\r\n    showPath(data) {\r\n        this._path.innerHTML = data ?\r\n            ('<pre>'+ DEFAULT_PATH + data + '</pre>') :\r\n            ('<pre>'+ DEFAULT_PATH  + '</pre>');\r\n    }\r\n\r\n    toggleBackButton() {\r\n        Breadcrumbs.toggleElement( this._el.querySelector('[data-selector=\"backButton\"]') );\r\n    }\r\n\r\n    _onBackClick(event) {\r\n        let backButton = event.target.closest('[data-selector=\"backButton\"]');\r\n\r\n        if (!backButton) {\r\n            return;\r\n        }\r\n\r\n        this._trigger('back');\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/breadcrumbs.js\n **/","'use strict';\r\n\r\nexport default class Component {\r\n    constructor(options) {\r\n        this._el = options.element;\r\n    }\r\n\r\n    static toggleElement(elem) {\r\n        elem.classList.toggle('js-hidden');\r\n    }\r\n\r\n    static toggleFocus(elem) {\r\n        elem.classList.toggle('focused');\r\n    }\r\n\r\n\r\n    show() {\r\n        this._el.classList.remove('js-hidden');\r\n    }\r\n\r\n    hide() {\r\n        this._el.classList.add('js-hidden');\r\n    }\r\n\r\n    showContent(data) {\r\n        // for override\r\n    }\r\n\r\n    showLoadError(err) {\r\n        this._el.innerHTML = '<h1>Error ' +err.status + '</h1>' + JSON.parse(err.message);\r\n    }\r\n\r\n    on(eventName, handler) {\r\n        this._el.addEventListener(eventName, handler);\r\n    }\r\n\r\n    _trigger(eventName, data, options) {\r\n        options = options || {};\r\n\r\n        if (data != undefined) {\r\n            options.detail = data;\r\n        }\r\n\r\n        let event = new CustomEvent(eventName, options);\r\n\r\n        this._el.dispatchEvent(event);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/component.js\n **/","'use strict';\r\nimport Component from './component.js';\r\n\r\nexport default class DirViewer extends Component{\r\n    constructor(options) {\r\n        super(options);\r\n        this._selectedItem = null;\r\n\r\n        this.on('click',this._onClick.bind(this));\r\n        this.on('dblclick',this._onDblClick.bind(this));\r\n        this.on('mousedown', DirViewer.preventDefaultSelection);\r\n        this.on('selectstart',DirViewer.preventDefaultSelection);\r\n    }\r\n\r\n    static preventDefaultSelection(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    static _definePath(target) {\r\n        let path = '';\r\n        let dir = target;\r\n\r\n        while(dir) {\r\n            path = '/' + dir.textContent + path;\r\n            dir = dir.parentNode.parentNode.previousElementSibling;\r\n        }\r\n\r\n        return path;\r\n    }\r\n\r\n    get selectedItem() {\r\n        return this._selectedItem;\r\n    }\r\n\r\n    _onClick(event) {\r\n\r\n        let target = event.target.closest('span');\r\n\r\n        if(!target) {\r\n            return;\r\n        }\r\n\r\n        if (target.nextElementSibling) {\r\n            DirViewer.toggleElement(target.nextElementSibling);\r\n        }\r\n\r\n\r\n        if (this.selectedItem) {\r\n            DirViewer.toggleFocus(this.selectedItem);\r\n        }\r\n\r\n        this._selectedItem = target;\r\n        DirViewer.toggleFocus(target);\r\n\r\n        this._trigger('itemWasSelected', {path: DirViewer._definePath(target)});\r\n\r\n    }\r\n\r\n    _onDblClick(event) {\r\n\r\n        let target = event.target.closest('span');\r\n\r\n        if(!target || target.nextElementSibling) {\r\n            return;\r\n        }\r\n\r\n        this._trigger('fileWasDblClicked', {filePath: DirViewer._definePath(target)});\r\n    }\r\n\r\n    showContent(data) {\r\n        this._el.innerHTML = this._renderTree( JSON.parse(data) );\r\n    }\r\n\r\n    _renderTree(obj) {\r\n        if (Object.keys(obj).length === 0) {\r\n            return '';\r\n        }\r\n\r\n        let ourHTML = '<ul>' + '\\n';\r\n\r\n        for (let key in obj) {\r\n            ourHTML += '<li>' + '<span>' + key + '</span>' + '\\n';\r\n            ourHTML +=this._renderTree(obj[key]);\r\n            ourHTML +='\\n'+'</li>';\r\n        }\r\n\r\n        ourHTML += '</ul>';\r\n\r\n        return ourHTML;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/dirViewer.js\n **/","'use strict';\r\nimport Component from './component.js';\r\n\r\nexport default class FileViewer extends Component{\r\n    constructor(options) {\r\n        super(options);\r\n    }\r\n\r\n    showContent(data) {\r\n        this._el.innerHTML = '<pre>' + data + '</pre>';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/fileViewer.js\n **/"],"sourceRoot":""}